import"./global-BB3kXit1.js";import{a as d,r as m}from"./bookList-BM9RcrCf.js";const r="https://gutendex.com/books/";let c="",a=1;document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("menu"),e=document.querySelector(".global-nav-toggle");t.addEventListener("click",()=>{e.classList.toggle("show");const o=e.classList.contains("show");t.setAttribute("aria-expanded",o)})});function g(t){var n,u;const e=((n=t.authors)==null?void 0:n.map(l=>l.name).join(", "))||"Unknown Author",o=((u=t.formats)==null?void 0:u["text/html"])||"#";return`
        <div class="book" bookId="${t.id}">
            <img class="bookImg" src="${t.formats["image/jpeg"]}" alt="${t.title}">
            <h2>${t.title}</h2>
            <p><strong>Author(s):</strong> ${e}</p>
            <div class="buttons">
                <button class="addButton" id="listButton${t.id}" bookId="${t.id}">Add to List</button>
                <a href="${o}" target="_blank">Read Book</a>
            </div>
        </div>
    `}function p(t){const e=document.querySelector(".bookList");console.log("Book List:",t);const o=t.map(n=>g(n)).join("");e.innerHTML=o}async function s(t,e=1){c=t;try{console.log("Fetching URL:",`${t}&page=${e}`);const o=await fetch(`${t}&page=${e}`);if(!o.ok)throw new Error(`Response status: ${o.status}`);const n=await o.json();console.log("API Response Results:",n.results),p(n.results)}catch(o){console.error(o.message)}}function h(){const t=document.querySelector("#author").value.trim(),e=document.querySelector("#topic").value.trim(),o=document.querySelector("#year").value.trim(),n=document.querySelector("#language").value;t?i():e?v():o?L():n&&n!=="select"?f():(console.error("No search criteria provided."),alert("Please enter at least one search criteria!"))}function i(){const t=document.querySelector("#author").value.trim().toLowerCase(),e=encodeURIComponent(t),o=`${r}?search=${e}`;s(o)}function v(){const t=document.querySelector("#topic").value.trim().toLowerCase(),e=encodeURIComponent(t),o=`${r}?topic=${e}`;s(o)}function L(){const t=document.querySelector("#year").value.trim().toLowerCase(),e=encodeURIComponent(t),o=`${r}?author_year_start=${e}`;s(o)}function f(){const t=document.querySelector("#language").value.trim().toLowerCase(),e=encodeURIComponent(t),o=`${r}?languages=${e}`;s(o)}document.querySelector(".bookList").addEventListener("click",t=>{if(t.target.classList.contains("addButton")){const e=t.target.id.replace("listButton","");d(e,"saved"),t.target.textContent="Remove from list",t.target.classList.remove("addButton"),t.target.classList.add("removeButton")}else if(t.target.classList.contains("removeButton")){const e=t.target.id.replace("listButton","");m(e,"saved"),t.target.textContent="Add to list",t.target.classList.remove("removeButton"),t.target.classList.add("addButton")}});document.addEventListener("DOMContentLoaded",i());document.querySelector("#searchButton").addEventListener("click",h);document.querySelector("#nextButton").addEventListener("click",()=>{c?(a++,s(c,a)):alert("Please perform a search first!")});document.querySelector("#searchButton").addEventListener("click",()=>{a=1});
